---
title: Soft Body Simulation
permalink: /soft-body-simulation.html
layout: layouts/layout.liquid
---

<div class="container">
  <canvas id="glcanvas">Your browser does not seem to support canvases.</canvas>
  <div class="optionsPanel">
    <button id="toggle-simulation">Start Simulation</button>

    <div class="sliders">
      <label for="rows">Rows:</label>
      <input id="rows" type="range" min="1" max="150" step="1" value="20">

      <label for="cols">Cols:</label>
      <input id="cols" type="range" min="1" max="150" step="1" value="20">
      
      <label for="springForce">Spring Force: </label>
      <input id="springForce" type="range" min="0" max="1" step="0.01" value="0.5">
      
      <label for="damping">Damping:</label>
      <input id="damping" type="range" min="0.1" max="1" step="0.01" value="0.5">
      
      <label for="maxSpringLength">Max Spring Length:</label>
      <input id="maxSpringLength" type="range" min="1" max="10" step="0.1" value="2">

      <label for="updatesPerFrame">Physics updates per frame: </label>
      <input id="updatesPerFrame" type="range" min="1" max="8" step="1 " value="2">
    
    </div>

    <p>Frametime: <span id="frametime"></span> ms</p>
  </div>
</div>

<script type="module" src="/js/soft-body-simulation/main.js"></script>

<script>

  const rowsInput = document.getElementById("rows");
  const colsInput = document.getElementById("cols");
  const springForceInput = document.getElementById("springForce");
  const dampingInput = document.getElementById("damping");
  const maxSpringLengthInput = document.getElementById("maxSpringLength");    
  const updatesPerFrameInput = document.getElementById("updatesPerFrame");    
  const frametime = document.getElementById("frametime");


  rowsInput.labels[0].innerText = "Rows: " + parseInt(rowsInput.value);
  colsInput.labels[0].innerText = "Cols: " + parseInt(colsInput.value);
  springForceInput.labels[0].innerText = "Spring Force: " + parseFloat(springForceInput.value).toFixed(2);
  dampingInput.labels[0].innerText = "Damping: " + parseFloat(dampingInput.value).toFixed(2);
  maxSpringLengthInput.labels[0].innerText = "Max Spring Length: " + parseFloat(maxSpringLengthInput.value).toFixed(2);
  updatesPerFrameInput.labels[0].innerText = "Physics updates per frame: " + parseInt(updatesPerFrameInput.value);
  frametime.innerText = "0";

</script>

<script id="circle-vert" src="/shaders/soft-body-simulation/circle.vert" type="x-shader/x-vertex"></script>
<script id="circle-frag" src="/shaders/soft-body-simulation/circle.frag" type="x-shader/x-fragment"></script>
<script id="line-vert" src="/shaders/soft-body-simulation/line.vert" type="x-shader/x-vertex"></script>
<script id="line-frag" src="/shaders/soft-body-simulation/line.frag" type="x-shader/x-fragment"></script>
<script id="cursor-vert" src="/shaders/soft-body-simulation/cursor.vert" type="x-shader/x-vertex"></script>
<script id="cursor-frag" src="/shaders/soft-body-simulation/cursor.frag" type="x-shader/x-fragment"></script>